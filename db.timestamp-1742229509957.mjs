var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __reExport = (target, mod, secondTarget) => (__copyProps(target, mod, "default"), secondTarget && __copyProps(secondTarget, mod, "default"));

// astro:db:astro:db
var astro_db_exports = {};
__reExport(astro_db_exports, virtual_star);
import * as virtual_star from "@astrojs/db/dist/runtime/virtual.js";

// src/lib/ai/llm.ts
import "@langchain/openai";
var defaultLLMConfig = {
  // Configuration Parameters
  baseURL: "/api/ai-proxy",
  // Base URL for the API endpoint (proxy or custom server)
  timeout: 3e4,
  // Timeout period in milliseconds (default: 30 seconds)
  // organization: "org-123456", // OpenAI organization ID (optional)
  model: "google/gemini-2.0-flash-lite-001",
  // The model to use (e.g., "gpt-3.5-turbo", "gpt-4")
  apiKey: "NONE",
  // API key for authentication (if required)
  metadata: { session_id: "abc123", user_id: "user42" },
  // Custom metadata for tracking or debugging
  // Output Control
  temperature: 0.7,
  // Controls randomness in output (higher = more creative, lower = more deterministic)
  maxTokens: 256,
  // Maximum number of tokens to generate in the response
  topP: 1,
  // Nucleus sampling parameter; limits token sampling to the top-p probability mass
  n: 1,
  // Number of chat completions to generate for each prompt
  stop: ["END"],
  // Stop sequences where the model output is cut off
  logitBias: { 50256: -100 },
  // Adjusts likelihood of specific tokens appearing in the completion
  // Retry and Timeout Parameters
  maxRetries: 3,
  // Maximum number of retries for failed API calls
  requestTimeout: 3e4,
  // Timeout for API requests (in milliseconds)
  // Callback and Metadata Parameters
  callbacks: [],
  // Callbacks to add additional functionality during execution (e.g., logging or streaming)
  callbackManager: void 0,
  // Manages callbacks for tracing and monitoring runs
  // Model-Specific Parameters (`modelKwargs`)
  modelKwargs: {
    frequencyPenalty: 0.2,
    // Penalizes repeated tokens (-2 to +2)
    presencePenalty: 0.3,
    // Penalizes repeated topics (-2 to +2)
    topP: 0.9,
    // Overrides the global topP parameter if needed
    stopSequences: ["END"],
    // Stop sequences specific to this model instance
    logitBias: { 50256: -100 }
    // Suppress specific tokens or adjust their likelihoods
  },
  // Additional Parameters
  cache: true
  // Whether to cache responses for repeated prompts
  // configuration: {
  //   fetch: proxyFetchHandler,
  // },
};

// src/lib/utils.ts
import { clsx } from "clsx";
import { twMerge } from "tailwind-merge";
function getWindowLocationOrigin() {
  if (typeof window !== "undefined") {
    return window.location.origin;
  }
  return "";
}

// src/consts.ts
var API_BASE_URL_DEV = getWindowLocationOrigin() + "/api";
var DEFAULT_MODEL = "google/gemini-2.0-flash-lite-001";

// db/config.ts
var llmSettings = { ...defaultLLMConfig, model: DEFAULT_MODEL };
var PromptTemplate = (0, astro_db_exports.defineTable)({
  columns: {
    id: astro_db_exports.column.text({ primaryKey: true }),
    name: astro_db_exports.column.text(),
    description: astro_db_exports.column.text(),
    systemPrompt: astro_db_exports.column.text(),
    template: astro_db_exports.column.text({ optional: true }),
    variables: astro_db_exports.column.json(),
    tags: astro_db_exports.column.json(),
    llmConfig: astro_db_exports.column.json({
      default: JSON.stringify(llmSettings)
    }),
    created_at: astro_db_exports.column.text(),
    updated_at: astro_db_exports.column.text()
  }
});
var ChatSession = (0, astro_db_exports.defineTable)({
  columns: {
    id: astro_db_exports.column.text({ primaryKey: true }),
    messages: astro_db_exports.column.json(),
    // Array of Message objects
    metadata: astro_db_exports.column.json({
      default: {
        topic: "",
        model: "",
        template: null,
        templateId: null
      }
    }),
    created_at: astro_db_exports.column.text(),
    // fixme: use column.date()
    updated_at: astro_db_exports.column.text()
    // created_at: column.date({ default: () => new Date() }),
    // updated_at: column.date({ default: () => new Date() }),
  }
});
var User = (0, astro_db_exports.defineTable)({
  columns: {
    id: astro_db_exports.column.text({ primaryKey: true }),
    email: astro_db_exports.column.text({ unique: true }),
    password: astro_db_exports.column.text(),
    // Will store hashed passwords
    role: astro_db_exports.column.text({ default: "authenticated" }),
    // "authenticated", "moderator", "admin"
    created_at: astro_db_exports.column.text(),
    updated_at: astro_db_exports.column.text()
  }
});
var Comment = (0, astro_db_exports.defineTable)({
  columns: {
    id: astro_db_exports.column.number({ primaryKey: true }),
    likes: astro_db_exports.column.number({ default: 0 }),
    flagged: astro_db_exports.column.boolean({ default: false }),
    // published: column.date({ default: () => new Date() }),
    metadata: astro_db_exports.column.json({ default: {} }),
    authorId: astro_db_exports.column.number({
      references: () => Author.columns.id,
      default: 1
    })
  }
});
var Author = (0, astro_db_exports.defineTable)({
  columns: {
    id: astro_db_exports.column.number({ primaryKey: true }),
    name: astro_db_exports.column.text()
  }
});
var config_default = (0, astro_db_exports.defineDb)({
  tables: { PromptTemplate, ChatSession, Comment, Author, User }
});
export {
  config_default as default
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiYXN0cm86ZGI6YXN0cm86ZGIiLCAic3JjL2xpYi9haS9sbG0udHMiLCAic3JjL2xpYi91dGlscy50cyIsICJzcmMvY29uc3RzLnRzIiwgImRiL2NvbmZpZy50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiZXhwb3J0ICogZnJvbSBcIkBhc3Ryb2pzL2RiL2Rpc3QvcnVudGltZS92aXJ0dWFsLmpzXCIiLCAiLy8gaW1wb3J0IHsgcHJveHlGZXRjaEhhbmRsZXIgfSBmcm9tIFwiLi91dGlsc1wiO1xuaW1wb3J0IHsgdHlwZSBDaGF0T3BlbkFJIH0gZnJvbSBcIkBsYW5nY2hhaW4vb3BlbmFpXCI7XG5cbmV4cG9ydCBjb25zdCBkZWZhdWx0TExNQ29uZmlnOiBDaGF0T3BlbkFJID0ge1xuICAvLyBDb25maWd1cmF0aW9uIFBhcmFtZXRlcnNcbiAgYmFzZVVSTDogXCIvYXBpL2FpLXByb3h5XCIsIC8vIEJhc2UgVVJMIGZvciB0aGUgQVBJIGVuZHBvaW50IChwcm94eSBvciBjdXN0b20gc2VydmVyKVxuICB0aW1lb3V0OiAzMDAwMCwgLy8gVGltZW91dCBwZXJpb2QgaW4gbWlsbGlzZWNvbmRzIChkZWZhdWx0OiAzMCBzZWNvbmRzKVxuICAvLyBvcmdhbml6YXRpb246IFwib3JnLTEyMzQ1NlwiLCAvLyBPcGVuQUkgb3JnYW5pemF0aW9uIElEIChvcHRpb25hbClcbiAgbW9kZWw6IFwiZ29vZ2xlL2dlbWluaS0yLjAtZmxhc2gtbGl0ZS0wMDFcIiwgLy8gVGhlIG1vZGVsIHRvIHVzZSAoZS5nLiwgXCJncHQtMy41LXR1cmJvXCIsIFwiZ3B0LTRcIilcbiAgYXBpS2V5OiBcIk5PTkVcIiwgLy8gQVBJIGtleSBmb3IgYXV0aGVudGljYXRpb24gKGlmIHJlcXVpcmVkKVxuICBtZXRhZGF0YTogeyBzZXNzaW9uX2lkOiBcImFiYzEyM1wiLCB1c2VyX2lkOiBcInVzZXI0MlwiIH0sIC8vIEN1c3RvbSBtZXRhZGF0YSBmb3IgdHJhY2tpbmcgb3IgZGVidWdnaW5nXG4gIC8vIE91dHB1dCBDb250cm9sXG4gIHRlbXBlcmF0dXJlOiAwLjcsIC8vIENvbnRyb2xzIHJhbmRvbW5lc3MgaW4gb3V0cHV0IChoaWdoZXIgPSBtb3JlIGNyZWF0aXZlLCBsb3dlciA9IG1vcmUgZGV0ZXJtaW5pc3RpYylcbiAgbWF4VG9rZW5zOiAyNTYsIC8vIE1heGltdW0gbnVtYmVyIG9mIHRva2VucyB0byBnZW5lcmF0ZSBpbiB0aGUgcmVzcG9uc2VcbiAgdG9wUDogMS4wLCAvLyBOdWNsZXVzIHNhbXBsaW5nIHBhcmFtZXRlcjsgbGltaXRzIHRva2VuIHNhbXBsaW5nIHRvIHRoZSB0b3AtcCBwcm9iYWJpbGl0eSBtYXNzXG4gIG46IDEsIC8vIE51bWJlciBvZiBjaGF0IGNvbXBsZXRpb25zIHRvIGdlbmVyYXRlIGZvciBlYWNoIHByb21wdFxuICBzdG9wOiBbXCJFTkRcIl0sIC8vIFN0b3Agc2VxdWVuY2VzIHdoZXJlIHRoZSBtb2RlbCBvdXRwdXQgaXMgY3V0IG9mZlxuICBsb2dpdEJpYXM6IHsgNTAyNTY6IC0xMDAgfSwgLy8gQWRqdXN0cyBsaWtlbGlob29kIG9mIHNwZWNpZmljIHRva2VucyBhcHBlYXJpbmcgaW4gdGhlIGNvbXBsZXRpb25cbiAgLy8gUmV0cnkgYW5kIFRpbWVvdXQgUGFyYW1ldGVyc1xuICBtYXhSZXRyaWVzOiAzLCAvLyBNYXhpbXVtIG51bWJlciBvZiByZXRyaWVzIGZvciBmYWlsZWQgQVBJIGNhbGxzXG4gIHJlcXVlc3RUaW1lb3V0OiAzMDAwMCwgLy8gVGltZW91dCBmb3IgQVBJIHJlcXVlc3RzIChpbiBtaWxsaXNlY29uZHMpXG4gIC8vIENhbGxiYWNrIGFuZCBNZXRhZGF0YSBQYXJhbWV0ZXJzXG4gIGNhbGxiYWNrczogW10sIC8vIENhbGxiYWNrcyB0byBhZGQgYWRkaXRpb25hbCBmdW5jdGlvbmFsaXR5IGR1cmluZyBleGVjdXRpb24gKGUuZy4sIGxvZ2dpbmcgb3Igc3RyZWFtaW5nKVxuICBjYWxsYmFja01hbmFnZXI6IHVuZGVmaW5lZCwgLy8gTWFuYWdlcyBjYWxsYmFja3MgZm9yIHRyYWNpbmcgYW5kIG1vbml0b3JpbmcgcnVuc1xuICAvLyBNb2RlbC1TcGVjaWZpYyBQYXJhbWV0ZXJzIChgbW9kZWxLd2FyZ3NgKVxuICBtb2RlbEt3YXJnczoge1xuICAgIGZyZXF1ZW5jeVBlbmFsdHk6IDAuMiwgLy8gUGVuYWxpemVzIHJlcGVhdGVkIHRva2VucyAoLTIgdG8gKzIpXG4gICAgcHJlc2VuY2VQZW5hbHR5OiAwLjMsIC8vIFBlbmFsaXplcyByZXBlYXRlZCB0b3BpY3MgKC0yIHRvICsyKVxuICAgIHRvcFA6IDAuOSwgLy8gT3ZlcnJpZGVzIHRoZSBnbG9iYWwgdG9wUCBwYXJhbWV0ZXIgaWYgbmVlZGVkXG4gICAgc3RvcFNlcXVlbmNlczogW1wiRU5EXCJdLCAvLyBTdG9wIHNlcXVlbmNlcyBzcGVjaWZpYyB0byB0aGlzIG1vZGVsIGluc3RhbmNlXG4gICAgbG9naXRCaWFzOiB7IDUwMjU2OiAtMTAwIH0sIC8vIFN1cHByZXNzIHNwZWNpZmljIHRva2VucyBvciBhZGp1c3QgdGhlaXIgbGlrZWxpaG9vZHNcbiAgfSxcbiAgLy8gQWRkaXRpb25hbCBQYXJhbWV0ZXJzXG4gIGNhY2hlOiB0cnVlLCAvLyBXaGV0aGVyIHRvIGNhY2hlIHJlc3BvbnNlcyBmb3IgcmVwZWF0ZWQgcHJvbXB0c1xuICAvLyBjb25maWd1cmF0aW9uOiB7XG4gIC8vICAgZmV0Y2g6IHByb3h5RmV0Y2hIYW5kbGVyLFxuICAvLyB9LFxufTtcblxuLyoqICB0b2RvOiBjaGVjayBhZGRpdGlvbmFsIERlZmF1bHQgc2V0dGluZ3MgZm9yIHRoZSBMTE0uICovXG5leHBvcnQgY29uc3QgZGVmYXVsdExMTVNldHRpbmdzOiBMTE1TZXR0aW5ncyA9IHtcbiAgLy8gY29uZmlndXJhdGlvbjogY29uZmlndXJhdGlvbiwgLy8gQ29uZmlndXJhdGlvbiBvYmplY3QgZm9yIHRoZSBMTE1cbiAgLy8gYXBpS2V5OiBcIk5PTkVcIiwgLy8gQVBJIGtleSBmb3IgYXV0aGVudGljYXRpb24gKGlmIHJlcXVpcmVkKVxuICBtb2RlbDogXCJnb29nbGUvZ2VtaW5pLTIuMC1mbGFzaC1saXRlLTAwMVwiLCAvLyBUaGUgQUkgbW9kZWwgdG8gdXNlIChlLmcuLCBcImdwdC00XCIsIFwiZ3B0LTMuNS10dXJib1wiKVxuICB0ZW1wZXJhdHVyZTogMC43LCAvLyBDb250cm9scyByYW5kb21uZXNzICgwLTIsIGhpZ2hlciA9IG1vcmUgcmFuZG9tKVxuICBtYXhUb2tlbnM6IDI1NiwgLy8gTWF4aW11bSB0b2tlbnMgaW4gY29tcGxldGlvblxuICB0b3BQOiAxLjAsIC8vIE51Y2xldXMgc2FtcGxpbmcgcGFyYW1ldGVyICgxLjAgPSBmdWxsIGRpc3RyaWJ1dGlvbilcbiAgZnJlcXVlbmN5UGVuYWx0eTogMC4wLCAvLyBSZWR1Y2VzIHJlcGV0aXRpb24gb2YgdG9rZW5zICgtMiB0byAyKVxuICBwcmVzZW5jZVBlbmFsdHk6IDAuMCwgLy8gUmVkdWNlcyByZXBldGl0aW9uIG9mIHRvcGljcyAoLTIgdG8gMilcbiAgc3RvcDogbnVsbCwgLy8gU2VxdWVuY2VzIHdoZXJlIHRoZSBBUEkgd2lsbCBzdG9wIGdlbmVyYXRpbmdcbiAgc3RyZWFtOiBmYWxzZSwgLy8gV2hldGhlciB0byBzdHJlYW0gcmVzcG9uc2VzICh0cnVlL2ZhbHNlKVxuICBuOiAxLCAvLyBOdW1iZXIgb2YgY29tcGxldGlvbnMgdG8gZ2VuZXJhdGVcbiAgbG9ncHJvYnM6IG51bGwsIC8vIFJldHVybiBsb2cgcHJvYmFiaWxpdGllcyBvZiBvdXRwdXQgdG9rZW5zXG4gIGxvZ2l0QmlhczogbnVsbCwgLy8gTW9kaWZ5IGxpa2VsaWhvb2Qgb2Ygc3BlY2lmaWMgdG9rZW5zXG4gIHVzZXI6IG51bGwsIC8vIFVzZXIgaWRlbnRpZmllciBmb3IgQVBJIHRyYWNraW5nXG4gIGVjaG86IGZhbHNlLCAvLyBFY2hvIGJhY2sgdGhlIHByb21wdCB3aXRoIHRoZSBjb21wbGV0aW9uXG4gIGJlc3RPZjogMSwgLy8gR2VuZXJhdGUgbXVsdGlwbGUgY29tcGxldGlvbnMgYW5kIHJldHVybiB0aGUgYmVzdCBvbmVcbiAgc3VmZml4OiBudWxsLCAvLyBUZXh0IHRvIGFwcGVuZCB0byBjb21wbGV0aW9uXG4gIHJldHVyblByb21wdDogZmFsc2UsIC8vIEluY2x1ZGUgcHJvbXB0IGluIHJlc3BvbnNlXG4gIHJldHVybk1ldGFkYXRhOiBmYWxzZSwgLy8gSW5jbHVkZSBtZXRhZGF0YSBpbiByZXNwb25zZVxuICByZXR1cm5MaWtlbGlob29kczogXCJOT05FXCIsIC8vIEluY2x1ZGUgdG9rZW4gbGlrZWxpaG9vZHMgKFwiTk9ORVwiLCBcIkdFTkVSQVRJT05cIiwgb3IgXCJBTExcIilcblxuICAvLyBBZGRpdGlvbmFsIFNldHRpbmdzXG4gIGNvbnRleHRMZW5ndGg6IDQwOTYsIC8vIE1heGltdW0gY29udGV4dCBsZW5ndGggKHByb21wdCArIGNvbXBsZXRpb24gdG9rZW5zKVxuICB0ZW1wZXJhdHVyZVJhbmdlOiBbMC4zLCAwLjldLCAvLyBSYW5nZSBmb3IgZHluYW1pYyB0ZW1wZXJhdHVyZSBhZGp1c3RtZW50XG4gIHNlZWQ6IG51bGwsIC8vIFNlZWQgdmFsdWUgZm9yIGRldGVybWluaXN0aWMgb3V0cHV0cyAoZS5nLiwgXCI0MlwiKVxuICBtb2RlbFZlcnNpb246IG51bGwsIC8vIFNwZWNpZmljIHZlcnNpb24gb2YgdGhlIG1vZGVsIHRvIHVzZSAoZS5nLiwgXCJ2MS4yXCIpXG4gIGNhY2hlOiB0cnVlLCAvLyBFbmFibGUgY2FjaGluZyBvZiByZXNwb25zZXMgZm9yIHJlcGVhdGVkIHByb21wdHNcbiAgcHJpb3JpdHk6IFwibm9ybWFsXCIsIC8vIFByaW9yaXR5IGxldmVsIG9mIHRoZSByZXF1ZXN0IChcImxvd1wiLCBcIm5vcm1hbFwiLCBvciBcImhpZ2hcIilcbiAgZmluZVR1bmVkTW9kZWw6IG51bGwsIC8vIFVzZSBhIGN1c3RvbSBmaW5lLXR1bmVkIG1vZGVsIChlLmcuLCBcImZ0OmdwdDMtY3VzdG9tLW1vZGVsXCIpXG4gIHNhbXBsaW5nTWV0aG9kOiBcIm51Y2xldXNcIiwgLy8gU3BlY2lmeSBzYW1wbGluZyBzdHJhdGVneSAoXCJudWNsZXVzXCIgb3IgXCJ0b3Ata1wiKVxuICB0b2tlbkJ1ZGdldDogbnVsbCwgLy8gTGltaXQgdG90YWwgdG9rZW4gdXNhZ2UgcGVyIHJlcXVlc3QgKGUuZy4sIFwiMTAwMFwiKVxuICBmYWxsYmFja01vZGVsOiBcImdwdC0zLjUtdHVyYm9cIiwgLy8gTW9kZWwgdG8gZmFsbCBiYWNrIG9uIGlmIHByaW1hcnkgaXMgdW5hdmFpbGFibGVcbiAgdGVtcGVyYXR1cmVEZWNheTogeyBzdGFydDogMC45LCBlbmQ6IDAuMyB9LCAvLyBHcmFkdWFsIHJlZHVjdGlvbiBpbiByYW5kb21uZXNzIGR1cmluZyBnZW5lcmF0aW9uXG59O1xuXG4vKipcblxuICogQ29uZmlndXJhdGlvbiBzZXR0aW5ncyBmb3IgYW4gTExNIChMYXJnZSBMYW5ndWFnZSBNb2RlbCkuXG5cbiAqL1xuXG5leHBvcnQgaW50ZXJmYWNlIExMTVNldHRpbmdzIHtcbiAgLyoqIENvbmZpZ3VyYXRpb24gb2JqZWN0IGZvciB0aGUgTExNICovXG4gIGNvbmZpZ3VyYXRpb24/OiBhbnk7XG5cbiAgLyoqIFRoZSBtb2RlbCB0byB1c2UgZm9yIHRoZSBsYW5ndWFnZSBnZW5lcmF0aW9uLiAqL1xuICBtb2RlbD86IHN0cmluZztcblxuICAvKiogQ29udHJvbHMgdGhlIHJhbmRvbW5lc3Mgb2YgdGhlIG91dHB1dC4gSGlnaGVyIHZhbHVlcyAoZS5nLiwgMC43KSBtYWtlIHRoZSBvdXRwdXQgbW9yZSByYW5kb20sIHdoaWxlIGxvd2VyIHZhbHVlcyAoZS5nLiwgMC4yKSBtYWtlIGl0IG1vcmUgZGV0ZXJtaW5pc3RpYy4gKi9cbiAgdGVtcGVyYXR1cmU/OiBudW1iZXI7XG5cbiAgLyoqIFRoZSBtYXhpbXVtIG51bWJlciBvZiB0b2tlbnMgdG8gZ2VuZXJhdGUgaW4gdGhlIGNvbXBsZXRpb24uICovXG4gIG1heFRva2Vucz86IG51bWJlcjtcblxuICAvKiogQW4gYWx0ZXJuYXRpdmUgdG8gc2FtcGxpbmcgd2l0aCB0ZW1wZXJhdHVyZSwgY2FsbGVkIG51Y2xldXMgc2FtcGxpbmcuIFRoaXMgdmFsdWUgY29udHJvbHMgdGhlIGN1bXVsYXRpdmUgcHJvYmFiaWxpdHkgb2YgdG9rZW4gY2FuZGlkYXRlcy4gSGlnaGVyIHZhbHVlcyAoZS5nLiwgMC45KSBsZWFkIHRvIG1vcmUgZGl2ZXJzZSBvdXRwdXQuICovXG4gIHRvcFA/OiBudW1iZXI7XG5cbiAgLyoqIE51bWJlciBiZXR3ZWVuIC0yLjAgYW5kIDIuMC4gUG9zaXRpdmUgdmFsdWVzIHBlbmFsaXplIG5ldyB0b2tlbnMgYmFzZWQgb24gdGhlaXIgZXhpc3RpbmcgZnJlcXVlbmN5IGluIHRoZSB0ZXh0IHNvIGZhciwgZGVjcmVhc2luZyB0aGUgbW9kZWwncyBsaWtlbGlob29kIHRvIHJlcGVhdCB0aGUgc2FtZSBsaW5lIHZlcmJhdGltLiAqL1xuICBmcmVxdWVuY3lQZW5hbHR5PzogbnVtYmVyO1xuXG4gIC8qKiBOdW1iZXIgYmV0d2VlbiAtMi4wIGFuZCAyLjAuIFBvc2l0aXZlIHZhbHVlcyBwZW5hbGl6ZSBuZXcgdG9rZW5zIGJhc2VkIG9uIHdoZXRoZXIgdGhleSBhcHBlYXIgaW4gdGhlIHRleHQgc28gZmFyLCBpbmNyZWFzaW5nIHRoZSBtb2RlbCdzIGxpa2VsaWhvb2QgdG8gdGFsayBhYm91dCBuZXcgdG9waWNzLiAqL1xuICBwcmVzZW5jZVBlbmFsdHk/OiBudW1iZXI7XG5cbiAgLyoqIFVwIHRvIDQgc2VxdWVuY2VzIHdoZXJlIHRoZSBBUEkgd2lsbCBzdG9wIGdlbmVyYXRpbmcgZnVydGhlciB0b2tlbnMuICovXG4gIHN0b3A/OiBzdHJpbmdbXSB8IHN0cmluZyB8IG51bGw7XG5cbiAgLyoqIFdoZXRoZXIgdG8gc3RyZWFtIGJhY2sgcGFydGlhbCBtb2RlbCByZXNwb25zZXMuICBJZiBmYWxzZSwgdGhlIGZ1bGwgcmVzcG9uc2UgaXMgcmV0dXJuZWQgYXQgb25jZS4gKi9cbiAgc3RyZWFtPzogYm9vbGVhbjtcblxuICAvKiogSG93IG1hbnkgY29tcGxldGlvbnMgdG8gZ2VuZXJhdGUgZm9yIGVhY2ggcHJvbXB0LiAgTm90ZTogYmVjYXVzZSB0aGlzIHBhcmFtZXRlciBnZW5lcmF0ZXMgbWFueSBjb21wbGV0aW9ucywgaXQgY2FuIHF1aWNrbHkgY29uc3VtZSB5b3VyIHRva2VuIHF1b3RhLiAqL1xuICBuPzogbnVtYmVyO1xuXG4gIC8qKiBJbmNsdWRlIHRoZSBsb2cgcHJvYmFiaWxpdGllcyBvZiB0aGUgdG9wIGxvZ3Byb2IgdG9rZW5zLCB3aGVyZSAwIDw9IGxvZ3Byb2JzIDw9IDUuICBJZiBudWxsLCBsb2cgcHJvYmFiaWxpdGllcyBhcmUgbm90IGluY2x1ZGVkLiAqL1xuICBsb2dwcm9icz86IG51bWJlciB8IG51bGw7XG5cbiAgLyoqIE1vZGlmeSB0aGUgbGlrZWxpaG9vZCBvZiBzcGVjaWZpZWQgdG9rZW5zIGFwcGVhcmluZyBpbiB0aGUgY29tcGxldGlvbi4gKi9cbiAgbG9naXRCaWFzPzogUmVjb3JkPHN0cmluZywgbnVtYmVyPiB8IG51bGw7XG5cbiAgLyoqIEEgdW5pcXVlIGlkZW50aWZpZXIgcmVwcmVzZW50aW5nIHlvdXIgZW5kLXVzZXIsIHdoaWNoIGNhbiBoZWxwIE9wZW5BSSB0byBtb25pdG9yIGFuZCBkZXRlY3QgYWJ1c2UuICovXG4gIHVzZXI/OiBzdHJpbmcgfCBudWxsO1xuXG4gIC8qKiBFY2hvIGJhY2sgdGhlIHByb21wdCBpbiB0aGUgY29tcGxldGlvbi4gKi9cbiAgZWNobz86IGJvb2xlYW47XG5cbiAgLyoqIEdlbmVyYXRlcyBiZXN0T2YgY29tcGxldGlvbnMgc2VydmVyLXNpZGUgYW5kIHJldHVybnMgdGhlIFwiYmVzdFwiICh0aGUgb25lIHdpdGggdGhlIGhpZ2hlc3QgbG9nIHByb2JhYmlsaXR5KSAqL1xuICBiZXN0T2Y/OiBudW1iZXI7XG5cbiAgLyoqIEEgc3VmZml4IHRvIGFwcGVuZCB0byB0aGUgY29tcGxldGlvbi4gKi9cbiAgc3VmZml4Pzogc3RyaW5nIHwgbnVsbDtcblxuICAvKiogV2hldGhlciB0byByZXR1cm4gdGhlIHByb21wdCBpbiB0aGUgb3V0cHV0LiAgVXNlZnVsIGZvciB2ZXJpZmljYXRpb24gd2hlbiBwcm9tcHQgZW5naW5lZXJpbmcgb24gdGhlIGNsaWVudCBzaWRlIGlzIGltcG9ydGFudC4gIFRoaXMgY2FuLCBob3dldmVyLCBpbmNyZWFzZSB0b2tlbiB1c2FnZS4gKi9cbiAgcmV0dXJuUHJvbXB0PzogYm9vbGVhbjtcblxuICAvKiogV2hldGhlciB0byByZXR1cm4gdmFyaW91cyBtZXRhZGF0YSBhYm91dCB0aGUgZ2VuZXJhdGlvbiwgc3VjaCBhcyBudW1iZXIgb2YgdG9rZW5zLiAqL1xuICByZXR1cm5NZXRhZGF0YT86IGJvb2xlYW47XG5cbiAgLyoqIFdoZXRoZXIgdG8gcmV0dXJuIGxpa2VsaWhvb2RzIGZvciB0aGUgY29tcGxldGlvbnMuICovXG4gIHJldHVybkxpa2VsaWhvb2RzPzogXCJOT05FXCIgfCBcIkFMTFwiIHwgXCJCRVNUXCI7XG5cbiAgLyoqIFRoZSBjb250ZXh0IGxlbmd0aCB0aGUgbW9kZWwgdXNlcyBmb3IgZ2VuZXJhdGlvbiBhbmQgdW5kZXJzdGFuZGluZy4gKi9cbiAgY29udGV4dExlbmd0aD86IG51bWJlcjtcblxuICAvKiogVGhlIHJhbmdlIG9mIHRlbXBlcmF0dXJlcyB0byB1c2UgZm9yIGdlbmVyYXRpb24uIFRlbXBlcmF0dXJlIHNlbGVjdGlvbiB3aXRoaW4gdGhlIHJhbmdlIGRlcGVuZHMgb24gc2FtcGxpbmcgbWV0aG9kLiAqL1xuICB0ZW1wZXJhdHVyZVJhbmdlPzogW251bWJlciwgbnVtYmVyXTtcblxuICAvKiogU2VlZCB2YWx1ZSBmb3IgZGV0ZXJtaW5pc3RpYyBvdXRwdXRzIChlLmcuLCBcIjQyXCIpICovXG4gIHNlZWQ/OiBudW1iZXIgfCBudWxsO1xuXG4gIG1vZGVsVmVyc2lvbj86IHN0cmluZyB8IG51bGw7XG5cbiAgLy8gRW5hYmxlIGNhY2hpbmcgb2YgcmVzcG9uc2VzIGZvciByZXBlYXRlZCBwcm9tcHRzXG4gIGNhY2hlPzogYm9vbGVhbjtcblxuICAvLyBQcmlvcml0eSBsZXZlbCBvZiB0aGUgcmVxdWVzdCAoXCJsb3dcIiwgXCJub3JtYWxcIiwgb3IgXCJoaWdoXCIpXG4gIHByaW9yaXR5PzogXCJsb3dcIiB8IFwibm9ybWFsXCIgfCBcImhpZ2hcIjtcblxuICAvLyBVc2UgYSBjdXN0b20gZmluZS10dW5lZCBtb2RlbCAoZS5nLiwgXCJmdDpncHQzLWN1c3RvbS1tb2RlbFwiKVxuICBmaW5lVHVuZWRNb2RlbD86IHN0cmluZyB8IG51bGw7XG5cbiAgLy8gU3BlY2lmeSBzYW1wbGluZyBzdHJhdGVneSAoXCJudWNsZXVzXCIgb3IgXCJ0b3Ata1wiKVxuICBzYW1wbGluZ01ldGhvZD86IFwibnVjbGV1c1wiIHwgXCJncmVlZHlfYmVzdF9maXJzdFwiO1xuXG4gIC8vIExpbWl0IHRvdGFsIHRva2VuIHVzYWdlIHBlciByZXF1ZXN0IChlLmcuLCBcIjEwMDBcIilcbiAgdG9rZW5CdWRnZXQ/OiBudW1iZXIgfCBudWxsO1xuXG4gIC8vIE1vZGVsIHRvIGZhbGwgYmFjayBvbiBpZiBwcmltYXJ5IGlzIHVuYXZhaWxhYmxlXG4gIGZhbGxiYWNrTW9kZWw/OiBzdHJpbmc7XG5cbiAgLy8gR3JhZHVhbCByZWR1Y3Rpb24gaW4gcmFuZG9tbmVzcyBkdXJpbmcgZ2VuZXJhdGlvblxuICB0ZW1wZXJhdHVyZURlY2F5Pzoge1xuICAgIHN0YXJ0OiBudW1iZXI7XG4gICAgZW5kOiBudW1iZXI7XG4gIH07XG59XG4iLCAiaW1wb3J0IHsgY2xzeCwgdHlwZSBDbGFzc1ZhbHVlIH0gZnJvbSBcImNsc3hcIjtcbmltcG9ydCB7IHR3TWVyZ2UgfSBmcm9tIFwidGFpbHdpbmQtbWVyZ2VcIjtcbmltcG9ydCB0eXBlIHsgTGlua3MgfSBmcm9tIFwiQHR5cGVzXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBjbiguLi5pbnB1dHM6IENsYXNzVmFsdWVbXSkge1xuICByZXR1cm4gdHdNZXJnZShjbHN4KGlucHV0cykpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0V2luZG93TG9jYXRpb25PcmlnaW4oKTogc3RyaW5nIHtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICByZXR1cm4gd2luZG93LmxvY2F0aW9uLm9yaWdpbjtcbiAgfVxuICByZXR1cm4gXCJcIjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdERhdGUoZGF0ZTogRGF0ZSkge1xuICByZXR1cm4gSW50bC5EYXRlVGltZUZvcm1hdChcImVuLVVTXCIsIHtcbiAgICBtb250aDogXCJzaG9ydFwiLFxuICAgIGRheTogXCIyLWRpZ2l0XCIsXG4gICAgeWVhcjogXCJudW1lcmljXCIsXG4gIH0pLmZvcm1hdChkYXRlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlYWRpbmdUaW1lKGh0bWw6IHN0cmluZykge1xuICBjb25zdCB0ZXh0T25seSA9IGh0bWwucmVwbGFjZSgvPFtePl0rPi9nLCBcIlwiKTtcbiAgY29uc3Qgd29yZENvdW50ID0gdGV4dE9ubHkuc3BsaXQoL1xccysvKS5sZW5ndGg7XG4gIGNvbnN0IHJlYWRpbmdUaW1lTWludXRlcyA9ICh3b3JkQ291bnQgLyAyMDAgKyAxKS50b0ZpeGVkKCk7XG4gIHJldHVybiBgJHtyZWFkaW5nVGltZU1pbnV0ZXN9IG1pbiByZWFkYDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzUnVubmluZ09uTG9jYWxob3N0KCk6IGJvb2xlYW4ge1xuICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIC8vIElmIHdpbmRvdyBpcyBub3QgYXZhaWxhYmxlLCB3ZSBhcmUgbm90IGluIGEgYnJvd3NlclxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBjb25zdCBob3N0bmFtZSA9IHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZTtcbiAgcmV0dXJuIChcbiAgICBob3N0bmFtZSA9PT0gXCJsb2NhbGhvc3RcIiB8fCAvLyBTdGFuZGFyZCBsb2NhbGhvc3RcbiAgICBob3N0bmFtZSA9PT0gXCIxMjcuMC4wLjFcIiB8fCAvLyBJUHY0IGxvb3BiYWNrXG4gICAgaG9zdG5hbWUgPT09IFwiWzo6MV1cIiB8fCAvLyBJUHY2IGxvb3BiYWNrXG4gICAgaG9zdG5hbWUuc3RhcnRzV2l0aChcIjEyNy5cIikgLy8gQW55IDEyNy54LngueCBJUCByYW5nZVxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2xlYXJMb2NhbFN0b3JhZ2UocmVsb2FkUGFnZTogYm9vbGVhbiA9IGZhbHNlKTogdm9pZCB7XG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgbG9jYWxTdG9yYWdlLmNsZWFyKCk7XG4gICAgaWYgKHJlbG9hZFBhZ2UpIHtcbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgICB9XG4gICAgY29uc29sZS5sb2coXCJMb2NhbCBzdG9yYWdlIGNsZWFyZWQgc3VjY2Vzc2Z1bGx5XCIpO1xuICB9XG59XG4iLCAiaW1wb3J0IHR5cGUgeyBTaXRlLCBQYWdlLCBMaW5rcywgU29jaWFscyB9IGZyb20gXCJAdHlwZXNcIjtcbmltcG9ydCB7IGRlZmF1bHRMTE1TZXR0aW5ncyB9IGZyb20gXCIuLi9zcmMvbGliL2FpL2xsbVwiO1xuaW1wb3J0IHsgZ2V0V2luZG93TG9jYXRpb25PcmlnaW4gfSBmcm9tIFwiQGxpYi91dGlsc1wiO1xuXG5leHBvcnQgY29uc3QgQVBJX0JBU0VfVVJMX1BST0QgPSBcIi9hcGlcIjtcbmV4cG9ydCBjb25zdCBBUElfQkFTRV9VUkxfREVWID0gZ2V0V2luZG93TG9jYXRpb25PcmlnaW4oKSArIFwiL2FwaVwiO1xuLy8gZXhwb3J0IGNvbnN0IEFQSV9CQVNFX1VSTF9ERVYgPSBcImh0dHBzOi8vYnNtcC5uZXRsaWZ5LmFwcC9hcGlcIjtcbmV4cG9ydCBjb25zdCBERUZBVUxUX01PREVMID0gXCJnb29nbGUvZ2VtaW5pLTIuMC1mbGFzaC1saXRlLTAwMVwiO1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfTU9ERUxfRlJFRSA9IFwibWlzdHJhbGFpL21pc3RyYWwtN2ItaW5zdHJ1Y3RcIjtcbmV4cG9ydCBjb25zdCBERUZBVUxUX1NZU1RFTV9NRVNTQUdFID0gXCJZb3UgYXJlIGEgaGVscGZ1bCBhc3Npc3RhbnQuXCI7XG5leHBvcnQgY29uc3QgREVGQVVMVF9URU1QTEFURV9JRCA9IFwiZGVmYXVsdFwiO1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfVEVNUExBVEUgPSB7XG4gIGlkOiBcImRlZmF1bHRcIixcbiAgbmFtZTogXCJWYW5pbGxhIENoYXRcIixcbiAgZGVzY3JpcHRpb246XG4gICAgXCJJIGFtIGEgc3RhbmRhcmQgYm9yaW5nIGNoYXQuIFVzZSBtZSB0byB0cnkgb3V0IGRpZmZlcmVudCBtb2RlbHMuXCIsXG4gIHN5c3RlbVByb21wdDogXCJZb3UgYXJlIGEgaGVscGZ1bCBhc3Npc3RhbnQuXCIsXG4gIHRlbXBsYXRlOiBcIlwiLFxuICB2YXJpYWJsZXM6IFtdLFxuICBsbG1fc2V0dGluZ3M6IGRlZmF1bHRMTE1TZXR0aW5ncyxcbiAgY3JlYXRlZF9hdDogXCIyMDI1LTAzLTA2VDEzOjMzOjI1LjQxMlpcIixcbiAgdXBkYXRlZF9hdDogXCIyMDI1LTAzLTExVDIyOjM3OjM2Ljg2NFpcIixcbn07XG5leHBvcnQgY29uc3QgVEVNUExBVEVfVEFHUyA9IFtcbiAgXCJwcm9tcHQtZW5oYW5jZXJcIixcbiAgXCJwcm9tcHQtZ2VuZXJhdG9yXCIsXG4gIFwicHJvbXB0LW9wdGltaXplclwiLFxuICBcInByb21wdC1yZWZpbmVyXCIsXG4gIFwicHJvbXB0LXdyaXRlclwiLFxuICBcImltYWdlLXByb21wdC1nZW5lcmF0b3JcIixcbiAgXCJ2aWRlby1wcm9tcHQtZ2VuZXJhdG9yXCIsXG4gIFwiY29kZS1hc3Npc3RhbnRcIixcbiAgXCJkYXRhLWFuYWx5emVyXCIsXG4gIFwiY3JlYXRpdmUtd3JpdGVyXCIsXG4gIFwic3Rvcnl0ZWxsZXJcIixcbiAgXCJzdW1tYXJpemVyXCIsXG4gIFwidHJhbnNsYXRvclwiLFxuICBcImV4cGxhaW5lclwiLFxuICBcImRlYmF0ZS1jb2FjaFwiLFxuICBcImludGVydmlldy1wcmVwXCIsXG4gIFwicmVzZWFyY2gtYXNzaXN0YW50XCIsXG4gIFwibGVhcm5pbmctdHV0b3JcIixcbiAgXCJicmFpbnN0b3JtaW5nXCIsXG4gIFwiY29udGVudC1wbGFubmVyXCIsXG4gIFwic2VvLW9wdGltaXplclwiLFxuICBcImVtYWlsLXdyaXRlclwiLFxuICBcInNvY2lhbC1tZWRpYVwiLFxuICBcInRlY2huaWNhbC13cml0ZXJcIixcbiAgXCJwcm9kdWN0LWRlc2NyaXB0aW9uXCIsXG4gIFwicm9sZXBsYXktY2hhcmFjdGVyXCIsXG4gIFwiY2hhdGJvdC1wZXJzb25hbGl0eVwiLFxuXTtcbmV4cG9ydCBjb25zdCBMTE1fTU9ERUxTID0gW1xuICBcImdvb2dsZS9nZW1pbmktMi4wLWZsYXNoLWxpdGUtMDAxXCIsXG4gIC8vIFwiZ29vZ2xlL2dlbWluaS0yLjAtZmxhc2gtMDAxXCIsXG4gIFwib3BlbmFpL2dwdC0zLjUtdHVyYm9cIixcbiAgXCJvcGVuYWkvZ3B0LTRvLW1pbmlcIixcbiAgXCJkZWVwc2Vlay9kZWVwc2Vlay1yMS1kaXN0aWxsLWxsYW1hLThiXCIsXG4gIC8vIHVuY2Vuc29yZWRcbiAgXCJwZXJwbGV4aXR5L3NvbmFyLXJlYXNvbmluZ1wiLFxuICBcInRoZWRydW1tZXIvdW5zbG9wbmVtby0xMmJcIixcbiAgXCJuZXZlcnNsZWVwL25vcm9tYWlkLTIwYlwiLFxuXTtcblxuLy8gTGlua3NcbmV4cG9ydCBjb25zdCBMSU5LUzogTGlua3MgPSBbXG4gIHtcbiAgICBURVhUOiBcIkNoYXRcIixcbiAgICBIUkVGOiBcIi9jaGF0XCIsXG4gIH0sXG5dO1xuZXhwb3J0IGNvbnN0IExJTktTX0FVVEhFTlRJQ0FURUQ6IExpbmtzID0gW1xuICB7XG4gICAgVEVYVDogXCJQcm9tcHRzXCIsXG4gICAgSFJFRjogXCIvcHJvbXB0c1wiLFxuICB9LFxuXTsgLy8gR2xvYmFsXG5leHBvcnQgY29uc3QgTElOS1NfREVWOiBMaW5rcyA9IFtcbiAge1xuICAgIFRFWFQ6IFwiQ29udGFjdFwiLFxuICAgIEhSRUY6IFwiL2NvbnRhY3RcIixcbiAgfSxcbiAge1xuICAgIFRFWFQ6IFwiQWJvdXRcIixcbiAgICBIUkVGOiBcIi9hYm91dFwiLFxuICB9LFxuICB7XG4gICAgVEVYVDogXCJQcm9qZWN0c1wiLFxuICAgIEhSRUY6IFwiL3Byb2plY3RzXCIsXG4gIH0sXG5cbiAge1xuICAgIFRFWFQ6IFwiQmxvZ1wiLFxuICAgIEhSRUY6IFwiL2Jsb2dcIixcbiAgfSxcbl07XG4vLyBHbG9iYWxcbmV4cG9ydCBjb25zdCBTSVRFOiBTaXRlID0ge1xuICBUSVRMRTogXCJCU01QXCIsXG4gIERFU0NSSVBUSU9OOiBcIkJTTVBcIixcbiAgQVVUSE9SOiBcIkJvYiBTdG91dGVcIixcbn07XG5cbi8vIEJsb2cgUGFnZVxuZXhwb3J0IGNvbnN0IEJMT0c6IFBhZ2UgPSB7XG4gIFRJVExFOiBcIkJsb2dcIixcbiAgREVTQ1JJUFRJT046IFwiV3JpdGluZyBvbiB0b3BpY3MgSSBhbSBwYXNzaW9uYXRlIGFib3V0LlwiLFxufTtcblxuLy8gUHJvamVjdHMgUGFnZVxuZXhwb3J0IGNvbnN0IFBST0pFQ1RTOiBQYWdlID0ge1xuICBUSVRMRTogXCJQcm9qZWN0c1wiLFxuICBERVNDUklQVElPTjogXCJTb21lIHByb2plY3RzIEkgaGF2ZSB3b3JrZWQgb24uXCIsXG59O1xuXG4vLyBTZWFyY2ggUGFnZVxuZXhwb3J0IGNvbnN0IFNFQVJDSDogUGFnZSA9IHtcbiAgVElUTEU6IFwiU2VhcmNoXCIsXG4gIERFU0NSSVBUSU9OOiBcIlNlYXJjaCBhbGwgcG9zdHMgYW5kIHByb2plY3RzIGJ5IGtleXdvcmQuXCIsXG59O1xuXG4vLyBTb2NpYWxzXG5leHBvcnQgY29uc3QgU09DSUFMUzogU29jaWFscyA9IFtcbiAge1xuICAgIE5BTUU6IFwiRW1haWxcIixcbiAgICBJQ09OOiBcImVtYWlsXCIsXG4gICAgVEVYVDogXCJzdG91dGUuYm9iQGdtYWlsLmNvbVwiLFxuICAgIEhSRUY6IFwibWFpbHRvOnN0b3V0ZS5ib2JAZ21haWwuY29tXCIsXG4gIH0sXG4gIHtcbiAgICBOQU1FOiBcIkdpdGh1YlwiLFxuICAgIElDT046IFwiZ2l0aHViXCIsXG4gICAgVEVYVDogXCJzdG91dGVcIixcbiAgICBIUkVGOiBcImh0dHBzOi8vZ2l0aHViLmNvbS9zdG91dGVcIixcbiAgfSxcbiAge1xuICAgIE5BTUU6IFwiTGlua2VkSW5cIixcbiAgICBJQ09OOiBcImxpbmtlZGluXCIsXG4gICAgVEVYVDogXCJib2Igc3RvdXRlXCIsXG4gICAgSFJFRjogXCJodHRwczovL3d3dy5saW5rZWRpbi5jb20vaW4vYm9ic3RvdXRlL1wiLFxuICB9LFxuICAvLyB7XG4gIC8vICAgTkFNRTogXCJUd2l0dGVyXCIsXG4gIC8vICAgSUNPTjogXCJ0d2l0dGVyLXhcIixcbiAgLy8gICBURVhUOiBcIm1hcmtob3JuX2RldlwiLFxuICAvLyAgIEhSRUY6IFwiaHR0cHM6Ly90d2l0dGVyLmNvbS9tYXJraG9ybl9kZXZcIixcbiAgLy8gfSxcbl07XG4iLCAiaW1wb3J0IHsgZGVmaW5lRGIsIGRlZmluZVRhYmxlLCBjb2x1bW4gfSBmcm9tIFwiYXN0cm86ZGJcIjtcbmltcG9ydCB7IERFRkFVTFRfTU9ERUwgfSBmcm9tIFwiLi4vc3JjL2NvbnN0c1wiO1xuaW1wb3J0IHsgZGVmYXVsdExMTUNvbmZpZyB9IGZyb20gXCIuLi9zcmMvbGliL2FpL2xsbVwiO1xuXG5jb25zdCBsbG1TZXR0aW5ncyA9IHsgLi4uZGVmYXVsdExMTUNvbmZpZywgbW9kZWw6IERFRkFVTFRfTU9ERUwgfTtcblxuY29uc3QgUHJvbXB0VGVtcGxhdGUgPSBkZWZpbmVUYWJsZSh7XG4gIGNvbHVtbnM6IHtcbiAgICBpZDogY29sdW1uLnRleHQoeyBwcmltYXJ5S2V5OiB0cnVlIH0pLFxuICAgIG5hbWU6IGNvbHVtbi50ZXh0KCksXG4gICAgZGVzY3JpcHRpb246IGNvbHVtbi50ZXh0KCksXG4gICAgc3lzdGVtUHJvbXB0OiBjb2x1bW4udGV4dCgpLFxuICAgIHRlbXBsYXRlOiBjb2x1bW4udGV4dCh7IG9wdGlvbmFsOiB0cnVlIH0pLFxuICAgIHZhcmlhYmxlczogY29sdW1uLmpzb24oKSxcbiAgICB0YWdzOiBjb2x1bW4uanNvbigpLFxuICAgIGxsbUNvbmZpZzogY29sdW1uLmpzb24oe1xuICAgICAgZGVmYXVsdDogSlNPTi5zdHJpbmdpZnkobGxtU2V0dGluZ3MpLFxuICAgIH0pLFxuICAgIGNyZWF0ZWRfYXQ6IGNvbHVtbi50ZXh0KCksXG4gICAgdXBkYXRlZF9hdDogY29sdW1uLnRleHQoKSxcbiAgfSxcbn0pO1xuXG5jb25zdCBDaGF0U2Vzc2lvbiA9IGRlZmluZVRhYmxlKHtcbiAgY29sdW1uczoge1xuICAgIGlkOiBjb2x1bW4udGV4dCh7IHByaW1hcnlLZXk6IHRydWUgfSksXG4gICAgbWVzc2FnZXM6IGNvbHVtbi5qc29uKCksIC8vIEFycmF5IG9mIE1lc3NhZ2Ugb2JqZWN0c1xuICAgIG1ldGFkYXRhOiBjb2x1bW4uanNvbih7XG4gICAgICBkZWZhdWx0OiB7XG4gICAgICAgIHRvcGljOiBcIlwiLFxuICAgICAgICBtb2RlbDogXCJcIixcbiAgICAgICAgdGVtcGxhdGU6IG51bGwsXG4gICAgICAgIHRlbXBsYXRlSWQ6IG51bGwsXG4gICAgICB9LFxuICAgIH0pLFxuICAgIGNyZWF0ZWRfYXQ6IGNvbHVtbi50ZXh0KCksIC8vIGZpeG1lOiB1c2UgY29sdW1uLmRhdGUoKVxuICAgIHVwZGF0ZWRfYXQ6IGNvbHVtbi50ZXh0KCksXG4gICAgLy8gY3JlYXRlZF9hdDogY29sdW1uLmRhdGUoeyBkZWZhdWx0OiAoKSA9PiBuZXcgRGF0ZSgpIH0pLFxuICAgIC8vIHVwZGF0ZWRfYXQ6IGNvbHVtbi5kYXRlKHsgZGVmYXVsdDogKCkgPT4gbmV3IERhdGUoKSB9KSxcbiAgfSxcbn0pO1xuXG5jb25zdCBVc2VyID0gZGVmaW5lVGFibGUoe1xuICBjb2x1bW5zOiB7XG4gICAgaWQ6IGNvbHVtbi50ZXh0KHsgcHJpbWFyeUtleTogdHJ1ZSB9KSxcbiAgICBlbWFpbDogY29sdW1uLnRleHQoeyB1bmlxdWU6IHRydWUgfSksXG4gICAgcGFzc3dvcmQ6IGNvbHVtbi50ZXh0KCksIC8vIFdpbGwgc3RvcmUgaGFzaGVkIHBhc3N3b3Jkc1xuICAgIHJvbGU6IGNvbHVtbi50ZXh0KHsgZGVmYXVsdDogXCJhdXRoZW50aWNhdGVkXCIgfSksIC8vIFwiYXV0aGVudGljYXRlZFwiLCBcIm1vZGVyYXRvclwiLCBcImFkbWluXCJcbiAgICBjcmVhdGVkX2F0OiBjb2x1bW4udGV4dCgpLFxuICAgIHVwZGF0ZWRfYXQ6IGNvbHVtbi50ZXh0KCksXG4gIH0sXG59KTtcblxuY29uc3QgQ29tbWVudCA9IGRlZmluZVRhYmxlKHtcbiAgY29sdW1uczoge1xuICAgIGlkOiBjb2x1bW4ubnVtYmVyKHsgcHJpbWFyeUtleTogdHJ1ZSB9KSxcbiAgICBsaWtlczogY29sdW1uLm51bWJlcih7IGRlZmF1bHQ6IDAgfSksXG4gICAgZmxhZ2dlZDogY29sdW1uLmJvb2xlYW4oeyBkZWZhdWx0OiBmYWxzZSB9KSxcbiAgICAvLyBwdWJsaXNoZWQ6IGNvbHVtbi5kYXRlKHsgZGVmYXVsdDogKCkgPT4gbmV3IERhdGUoKSB9KSxcbiAgICBtZXRhZGF0YTogY29sdW1uLmpzb24oeyBkZWZhdWx0OiB7fSB9KSxcbiAgICBhdXRob3JJZDogY29sdW1uLm51bWJlcih7XG4gICAgICByZWZlcmVuY2VzOiAoKSA9PiBBdXRob3IuY29sdW1ucy5pZCxcbiAgICAgIGRlZmF1bHQ6IDEsXG4gICAgfSksXG4gIH0sXG59KTtcblxuY29uc3QgQXV0aG9yID0gZGVmaW5lVGFibGUoe1xuICBjb2x1bW5zOiB7XG4gICAgaWQ6IGNvbHVtbi5udW1iZXIoeyBwcmltYXJ5S2V5OiB0cnVlIH0pLFxuICAgIG5hbWU6IGNvbHVtbi50ZXh0KCksXG4gIH0sXG59KTtcblxuLy8gaHR0cHM6Ly9hc3Ryby5idWlsZC9kYi9jb25maWdcbmV4cG9ydCBkZWZhdWx0IGRlZmluZURiKHtcbiAgdGFibGVzOiB7IFByb21w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
